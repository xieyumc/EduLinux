user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log warn;
pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    # 使用Docker内部DNS解析
    resolver 127.0.0.11 ipv6=off;

    sendfile        on;
    keepalive_timeout  65;

    upstream student1 {
        server student1:7681;
    }

    upstream student2 {
        server student2:7681;
    }

    upstream student3 {
        server student3:7681;
    }

    upstream student4 {
        server student4:7681;
    }

    upstream student5 {
        server student5:7681;
    }

    upstream student6 {
        server student6:7681;
    }

    upstream student7 {
        server student7:7681;
    }

    upstream student8 {
        server student8:7681;
    }

    upstream student9 {
        server student9:7681;
    }

    upstream student10 {
        server student10:7681;
    }

    upstream student11 {
        server student11:7681;
    }

    upstream student12 {
        server student12:7681;
    }

    upstream student13 {
        server student13:7681;
    }

    upstream student14 {
        server student14:7681;
    }

    upstream student15 {
        server student15:7681;
    }

    upstream student16 {
        server student16:7681;
    }

    upstream student17 {
        server student17:7681;
    }

    upstream student18 {
        server student18:7681;
    }

    upstream student19 {
        server student19:7681;
    }

    upstream student20 {
        server student20:7681;
    }

    upstream student21 {
        server student21:7681;
    }

    upstream student22 {
        server student22:7681;
    }

    upstream student23 {
        server student23:7681;
    }

    upstream student24 {
        server student24:7681;
    }

    upstream student25 {
        server student25:7681;
    }

    upstream student26 {
        server student26:7681;
    }

    upstream student27 {
        server student27:7681;
    }

    upstream student28 {
        server student28:7681;
    }

    upstream student29 {
        server student29:7681;
    }

    upstream student30 {
        server student30:7681;
    }

    upstream student31 {
        server student31:7681;
    }

    upstream student32 {
        server student32:7681;
    }

    upstream student33 {
        server student33:7681;
    }

    upstream student34 {
        server student34:7681;
    }

    upstream student35 {
        server student35:7681;
    }

    upstream student36 {
        server student36:7681;
    }

    upstream student37 {
        server student37:7681;
    }

    upstream student38 {
        server student38:7681;
    }

    upstream student39 {
        server student39:7681;
    }

    upstream student40 {
        server student40:7681;
    }

    upstream student41 {
        server student41:7681;
    }

    upstream student42 {
        server student42:7681;
    }

    upstream student43 {
        server student43:7681;
    }

    upstream student44 {
        server student44:7681;
    }

    upstream student45 {
        server student45:7681;
    }

    upstream student46 {
        server student46:7681;
    }

    upstream student47 {
        server student47:7681;
    }

    upstream student48 {
        server student48:7681;
    }

    upstream student49 {
        server student49:7681;
    }

    upstream student50 {
        server student50:7681;
    }

    upstream student51 {
        server student51:7681;
    }

    upstream student52 {
        server student52:7681;
    }

    server {
        listen       80;
        server_name  localhost;

        # student1
        location /student1/ {
            proxy_pass http://student1/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student2
        location /student2/ {
            proxy_pass http://student2/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student3
        location /student3/ {
            proxy_pass http://student3/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student4
        location /student4/ {
            proxy_pass http://student4/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student5
        location /student5/ {
            proxy_pass http://student5/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student6
        location /student6/ {
            proxy_pass http://student6/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student7
        location /student7/ {
            proxy_pass http://student7/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student8
        location /student8/ {
            proxy_pass http://student8/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student9
        location /student9/ {
            proxy_pass http://student9/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student10
        location /student10/ {
            proxy_pass http://student10/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student11
        location /student11/ {
            proxy_pass http://student11/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student12
        location /student12/ {
            proxy_pass http://student12/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student13
        location /student13/ {
            proxy_pass http://student13/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student14
        location /student14/ {
            proxy_pass http://student14/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student15
        location /student15/ {
            proxy_pass http://student15/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student16
        location /student16/ {
            proxy_pass http://student16/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student17
        location /student17/ {
            proxy_pass http://student17/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student18
        location /student18/ {
            proxy_pass http://student18/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student19
        location /student19/ {
            proxy_pass http://student19/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student20
        location /student20/ {
            proxy_pass http://student20/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student21
        location /student21/ {
            proxy_pass http://student21/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student22
        location /student22/ {
            proxy_pass http://student22/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student23
        location /student23/ {
            proxy_pass http://student23/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student24
        location /student24/ {
            proxy_pass http://student24/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student25
        location /student25/ {
            proxy_pass http://student25/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student26
        location /student26/ {
            proxy_pass http://student26/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student27
        location /student27/ {
            proxy_pass http://student27/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student28
        location /student28/ {
            proxy_pass http://student28/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student29
        location /student29/ {
            proxy_pass http://student29/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student30
        location /student30/ {
            proxy_pass http://student30/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student31
        location /student31/ {
            proxy_pass http://student31/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student32
        location /student32/ {
            proxy_pass http://student32/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student33
        location /student33/ {
            proxy_pass http://student33/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student34
        location /student34/ {
            proxy_pass http://student34/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student35
        location /student35/ {
            proxy_pass http://student35/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student36
        location /student36/ {
            proxy_pass http://student36/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student37
        location /student37/ {
            proxy_pass http://student37/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student38
        location /student38/ {
            proxy_pass http://student38/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student39
        location /student39/ {
            proxy_pass http://student39/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student40
        location /student40/ {
            proxy_pass http://student40/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student41
        location /student41/ {
            proxy_pass http://student41/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student42
        location /student42/ {
            proxy_pass http://student42/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student43
        location /student43/ {
            proxy_pass http://student43/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student44
        location /student44/ {
            proxy_pass http://student44/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student45
        location /student45/ {
            proxy_pass http://student45/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student46
        location /student46/ {
            proxy_pass http://student46/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student47
        location /student47/ {
            proxy_pass http://student47/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student48
        location /student48/ {
            proxy_pass http://student48/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student49
        location /student49/ {
            proxy_pass http://student49/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student50
        location /student50/ {
            proxy_pass http://student50/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student51
        location /student51/ {
            proxy_pass http://student51/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }

        # student52
        location /student52/ {
            proxy_pass http://student52/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
        }
    }
}
